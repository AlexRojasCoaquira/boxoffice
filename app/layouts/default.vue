<template>
  <div class="flex flex-col h-screen bg-[#F5F5F5] print:bg-[#FFFFFF]">
    <div class="h-16 bg-[#031425] flex items-center sm:px-10 px-4 py-2 print:hidden justify-between">
      <svg version="1.1" height="35" fill="#00E5B5" class="d-inline-block align-top" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
        viewBox="0 0 948.1 270.9" style="enable-background:new 0 0 948.1 270.9;" xml:space="preserve">
        <g>
          <path class="st0" d="M135.5,0C60.7,0,0,60.7,0,135.5s60.7,135.5,135.5,135.5c74.8,0,135.5-60.7,135.5-135.5S210.3,0,135.5,0z
            M202.9,157c0,18.2-14.8,33-33,33c-18.2,0-33-14.8-33-33v-43.1c0-5.2-4.2-9.4-9.4-9.4c-5.2,0-9.4,4.2-9.4,9.4V157
            c0,18.2-14.8,33-33,33c-18.2,0-33-14.8-33-33c0-6.5,5.3-11.8,11.8-11.8c6.5,0,11.8,5.3,11.8,11.8c0,5.2,4.2,9.4,9.4,9.4
            c5.2,0,9.4-4.2,9.4-9.4v-43.1c0-18.2,14.8-33,33-33c18.2,0,33,14.8,33,33V157c0,5.2,4.2,9.4,9.4,9.4s9.4-4.2,9.4-9.4V92.7
            c0-6.5,5.3-11.8,11.8-11.8c6.5,0,11.8,5.3,11.8,11.8V157z"/>
          <g>
            <path class="st0" d="M407.3,75.4c-4.4,0-8,4.1-8,8.6v71.4c0,18.4-13.4,33.5-30.9,33.5c-17.7,0-31.3-15.2-31.3-33.5
              c0-4.6-3.6-8.4-8-8.4c-4.4,0-8,3.7-8,8.4c0,27.8,20.6,48.5,47.2,48.5c26.3,0,47.1-22.5,47.1-50.3V84
              C415.5,79.5,411.9,75.4,407.3,75.4z"/>
            <circle class="st0" cx="539.8" cy="86" r="10.7"/>
            <path class="st0" d="M472.5,108.3c-26.4,0-47.8,21.4-47.8,47.8s21.4,47.8,47.8,47.8c26.4,0,47.8-21.4,47.8-47.8
              S498.9,108.3,472.5,108.3z M472.5,188.5c-17.9,0-32.4-14.5-32.4-32.4s14.5-32.4,32.4-32.4c17.9,0,32.4,14.5,32.4,32.4
              S490.4,188.5,472.5,188.5z"/>
            <path class="st0" d="M604.4,123.8c1.7-0.3,3.5-0.5,5.3-0.5c0,0,0,0-0.1,0C607.8,123.3,606.1,123.5,604.4,123.8z"/>
            <path class="st0" d="M715.3,108.3c-0.3,0-0.5,0-0.8,0c-1.6,0-3.2,0.1-4.7,0.4c-8.7,1.1-16.6,5-22.8,10.6c0-0.5,0-0.9,0-0.9l0-2
              c0-4.4-3.6-8-8-8h0c-4.4,0-8,3.6-8,8c0,13.2,0,37.9,0,37.9l0,18.8h0l0,5.5v0.1c0,0,0,0,0,0c0,5.1-4.1,9.2-9.2,9.3
              c-5,0-9.1-4.1-9.1-9.1v-28.5c0-23.2-18.8-42-42-42c-0.3,0-0.5,0-0.8,0c-1.6,0-3.2,0.1-4.7,0.4c-8.7,1.1-16.6,5-22.8,10.6
              c0-0.5,0-0.9,0-0.9l0-2c0-4.4-3.6-8-8-8h0c-4.4,0-8,3.6-8,8c0,13.2,0,37.9,0,37.9l0,24.5c0,0,0,0,0,0c0,5.1-4.1,9.3-9.3,9.3
              c-5.1,0-9.3-4.1-9.3-9.3v-70.4h-16.1v72.1c0,13.1,10.8,23.6,23.9,23.6c12.6,0,26.2-9.9,27-22.3c0-0.1,0-0.2,0-0.2v-28.5
              c0-1.2,0.1-2.4,0.2-3.6c0.3-12.6,9.4-23.1,21.5-25.5c1.7-0.4,3.5-0.5,5.2-0.5c0,0,0,0,0.1,0c0,0,0,0,0,0c11.4,0,21.1,7.1,25,17.2
              c1.1,3,1.8,6.2,1.8,9.6v0c0,0.4,0,2.8,0,2.8l0,25.5c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0.1,0,0.1s0,0,0-0.1c0,0.7,0,1.3,0.1,1.9
              c0,0,0,0,0-0.1c0,0,0,0.1,0,0.1c0,0.1,0,0.3,0.1,0.4c1.2,12.8,11.9,22.9,25,23c8.2-0.5,16.7-5,21.6-11.5c2.6-4,4.1-8.8,4.1-13.9
              v-0.1c0,0,0,0,0,0v-25.4c0-1.2,0.1-2.4,0.2-3.6c0.3-12.6,9.4-23.1,21.5-25.5c1.7-0.4,3.5-0.5,5.2-0.5c0,0,0,0,0.1,0c0,0,0,0,0,0
              c11.4,0,21.1,7.1,25,17.2c1.1,3,1.8,6.2,1.8,9.6v0c0,0.4,0,2.8,0,2.8l0,51h16.3v-53.5C757.4,127.1,738.5,108.3,715.3,108.3z"/>
            <path class="st0" d="M850.2,108.8c-7.2,0-13.5,6.5-13.5,13.9v33.9c0,11.9-8.5,21.1-19.3,21.1c-10.9,0-19.5-9.3-19.5-21.1v-33.9
              c0-7.5-6.2-13.9-13.5-13.9c-7.1,0-13.3,6.5-13.3,13.9v33.9c0,26.3,20.3,47,46.3,47c25.4,0,46.1-21.1,46.1-47v-33.9
              C863.5,115.2,857.3,108.8,850.2,108.8z"/>
            <path class="st0" d="M915.2,146.7c-8.9-1.9-16-3.4-16-8.8c0-3.7,2.8-8,10.6-8c6.6,0,10.9,2.1,14.7,4c3.3,1.6,6.2,3.1,10.3,3.1
              c6.3,0,10.2-5.1,10.2-9.9c0-10.9-13.9-18.3-34.7-18.3c-20.2,0-36,12.8-36,29.1c0,21.6,19,25.7,32.9,28.6
              c8.3,1.8,14.8,3.2,14.8,8.3c0,3.3-2.3,7.2-13.5,7.2c-7,0-11.1-2.2-14.6-4.1c-2.9-1.6-5.3-2.9-9.1-2.9c-6.2,0-10.8,4.6-10.8,10.8
              c0,10.4,14.4,17.7,35,17.7c23,0,39-12.4,39-30.2C948.1,153.7,929.1,149.6,915.2,146.7z"/>
          </g>
        </g>
      </svg>
      <div v-if="getUser" class="text-white relative group">
        <div class="flex gap-2 items-center">
          <span class="text-sm">{{ `${getUser.name} ${getUser.lastname}` }}</span>
          <img v-if="getUser && getUser.avatar" width="45" class="rounded-full" :src="getUser.avatar" alt="avatar">
          <template v-else>
            <svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" viewBox="0 0 158 158" fill="none">
              <circle cx="79" cy="79" r="79" fill="white"/>
              <path d="M79 0C35.392 0 0 35.392 0 79C0 122.608 35.392 158 79 158C122.608 158 158 122.608 158 79C158 35.392 122.608 0 79 0ZM79 23.7C92.114 23.7 102.7 34.286 102.7 47.4C102.7 60.514 92.114 71.1 79 71.1C65.886 71.1 55.3 60.514 55.3 47.4C55.3 34.286 65.886 23.7 79 23.7ZM79 135.88C59.25 135.88 41.791 125.768 31.6 110.442C31.837 94.721 63.2 86.11 79 86.11C94.721 86.11 126.163 94.721 126.4 110.442C116.209 125.768 98.75 135.88 79 135.88Z" fill="#6ABDA6"/>
            </svg>
          </template>
        </div>
        <div
          class="absolute right-0 mt-2 w-40 bg-white border border-gray-200 rounded-lg shadow-lg opacity-0 group-hover:opacity-100 group-hover:visible transition-all duration-200"
        >
        <div
        class="absolute top-0 right-5 -mt-2 w-0 h-0 border-l-8 border-l-transparent border-r-8 border-r-transparent border-b-8 border-b-white"
      ></div>
          <button
            @click="logout"
            class="block w-full text-left px-4 py-2 text-gray-700  transition"
          >
          <i className="fa fa-power-off" />
            Cerrar sesi√≥n
          </button>
        </div>
      </div>
    </div>
    <slot />
  </div>
</template>
<script lang="ts" setup>
import { useAuthStore } from '~/store/auth';
const authStore = useAuthStore()
const logout = () => {
  authStore.logout()
}
const { getUser } = storeToRefs(authStore)
</script>